# æˆ‘å¦‚ä½•ç”¨å›½äº§å¤§æ¨¡å‹æ„å»ºä¸€ä¸ªæ³•è§„æ™ºèƒ½ä½“ï¼ˆå¹¶è¸©äº† 7 ä¸ªå‘ï¼‰

> ä¸€æ¬¡ä» 0 åˆ° 1 çš„è®¤çŸ¥ç³»ç»Ÿæ„å»ºå®éªŒ  
> by [chemark](https://github.com/chemark)

---

## ğŸ§  èµ·ç‚¹ï¼šä¸€ä¸ªç†è®ºå¼•å‘çš„å¥½å¥‡

æˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°ä¸€ä¸ªè§‚ç‚¹ï¼šMeta æŠŠ Llama ç§°ä¸º"å¼€æº"ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ¬§ç›Ÿã€Šäººå·¥æ™ºèƒ½æ³•æ¡ˆã€‹ï¼ˆAI Actï¼‰å¯¹"å¼€æºæ¨¡å‹"æœ‰ç‰¹æ®Šè±å…æ¡æ¬¾ï¼Œè€Œè¿™äº›è±å…å¹¶ä¸è¦æ±‚ç¬¦åˆ OSI çš„å¼€æºå®šä¹‰ã€‚

æˆ‘ä¸æƒ³åªå¬åˆ«äººè¯´ï¼Œæˆ‘æƒ³è‡ªå·±éªŒè¯ã€‚

äºæ˜¯æˆ‘å†³å®šï¼š

- æŠ“å– AI Act çš„åŸæ–‡
- æå–æ‰€æœ‰æåˆ° "open source" çš„æ®µè½
- ç”¨å¤§æ¨¡å‹åˆ†æå®ƒçš„å®šä¹‰ã€è±å…æ¡ä»¶ã€åˆè§„è¾¹ç•Œ
- å…¨æµç¨‹è‡ªå·±è·‘ï¼Œä¸ä¾èµ– OpenAIï¼Œä¸ç”¨ ChatGPT ç½‘é¡µç‰ˆ

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆé€‰å‹

- **MacBook æœ¬åœ°ç»ˆç«¯**ï¼šä¸€åˆ‡ä»å‘½ä»¤è¡Œå¼€å§‹ï¼Œå¹²å‡€ã€å¯æ§  
- **curl + lynx**ï¼šæŠ“å–å¹¶è½¬ä¸ºçº¯æ–‡æœ¬  
- **grep + ttok**ï¼šå…³é”®è¯æå– + token ä¼°ç®—  
- **SiliconFlow + DeepSeek-R1-Distill-Qwen-7B**ï¼šå›½äº§å¤§æ¨¡å‹ï¼Œå…è´¹ï¼Œæ”¯æŒ 32K ä¸Šä¸‹æ–‡  
- **Python + OpenAI SDKï¼ˆå…¼å®¹æ¥å£ï¼‰**ï¼šè°ƒç”¨é€»è¾‘æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•  

---

## ğŸ§© å…¨æµç¨‹æ‹†è§£ + æˆ‘è¸©è¿‡çš„å‘

### 1. æŠ“å–æ³•è§„åŸæ–‡

```bash
curl 'https://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=OJ:L_202401689' > ai_act.html
lynx -dump ai_act.html > ai_act.txt
```

é—®é¢˜ 1ï¼šlynx æŠ¥é”™æ‰¾ä¸åˆ°å‘½ä»¤âœ… è§£å†³ï¼šå…ˆå®‰è£… Homebrewï¼Œå†å®‰è£… lynx
```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
brew install lynx
```

### 2. æå–å…³é”®è¯æ®µè½
```bash
grep -i -C 5 'open source' ai_act.txt > open_source_mentions.txt
```

é—®é¢˜ 2ï¼šæå–ç»“æœæ˜¯ç©ºçš„âœ… è§£å†³ï¼šæ”¹ç”¨æ›´å®½æ¾çš„å…³é”®è¯
```bash
grep -i -C 5 'open' ai_act.txt > open_source_mentions.txt
```

### 3. ä¼°ç®— token æ•°é‡
```bash
ttok < open_source_mentions.txt
```

é—®é¢˜ 3ï¼šttok æ²¡è£…âœ… è§£å†³ï¼š
```bash
pip install ttok
```

### 4. ç¼–å†™ Python è„šæœ¬è°ƒç”¨æ¨¡å‹
```python
from openai import OpenAI

client = OpenAI(
    base_url="https://api.siliconflow.cn/v1",
    api_key="sk-ä½ çš„å¯†é’¥"
)

with open("open_source_mentions.txt", "r", encoding="utf-8") as f:
    content = f.read()

response = client.chat.completions.create(
    model="deepseek-ai/DeepSeek-R1-Distill-Qwen-7B",
    messages=[
        {"role": "system", "content": "ä½ æ˜¯ä¸€ä½æ³•å¾‹åˆ†æåŠ©æ‰‹ï¼Œæ“…é•¿ä»æ³•è§„ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯ã€‚"},
        {"role": "user", "content": f"""è¯·æ€»ç»“ä»¥ä¸‹æ®µè½ä¸­å…³äº open source çš„å®šä¹‰ã€è±å…æ¡ä»¶ã€è®¸å¯è¯è¦æ±‚ã€å¯¹æ¨¡å‹å‘å¸ƒè€…çš„å½±å“ï¼š

{content}
"""}
    ],
    temperature=0.3,
    max_tokens=2048
)

print(response.choices[0].message.content)
```

### 5. æ¨¡å‹è°ƒç”¨å¤±è´¥ï¼š400 é”™è¯¯

é—®é¢˜ 4ï¼šBadRequestError: model does not existâœ… è§£å†³ï¼šæ¨¡å‹åå¿…é¡»ç²¾ç¡®å†™æˆï¼š`model="deepseek-ai/DeepSeek-R1-Distill-Qwen-7B"`

### 6. è„šæœ¬æŠ¥é”™ï¼šSyntaxError: invalid decimal literal

é—®é¢˜ 5ï¼šæˆ‘å†™äº† â€â max_tokens = 16,384â âœ… è§£å†³ï¼šPython ä¸æ”¯æŒé€—å·åˆ†éš”æ•°å­—ï¼Œæ”¹æˆï¼šmax_tokens = 16384

### 7. æ¨¡å‹è¾“å‡ºä¸ºç©º

é—®é¢˜ 6ï¼šç»ˆç«¯æ²¡æŠ¥é”™ï¼Œä½†è¾“å‡ºæ˜¯ç©ºçš„âœ… è§£å†³ï¼šâ€â open_source_mentions.txtâ  æ˜¯ç©ºçš„ï¼Œé‡æ–°æå–å…³é”®è¯å¹¶ç¡®è®¤æ–‡ä»¶éç©ºã€‚

## âœ… æœ€ç»ˆè¾“å‡ºï¼ˆèŠ‚é€‰ï¼‰

æ¨¡å‹è¾“å‡ºäº†ä»¥ä¸‹å…³é”®ç‚¹ï¼š
- æ³•è§„ä¸­å¹¶æœªåˆ—å‡ºå…·ä½“è®¸å¯è¯ï¼ˆå¦‚ MITã€GPLï¼‰ï¼Œè€Œæ˜¯ç”¨åŠŸèƒ½æ€§å®šä¹‰æ¥ç•Œå®š"å…è´¹å’Œå¼€æº"
- å¦‚æœæ¨¡å‹çš„å‚æ•°ã€æ¶æ„ã€ä½¿ç”¨ä¿¡æ¯æ˜¯å…¬å¼€çš„ï¼Œå¹¶å…è®¸å¤åˆ¶ã€ä¿®æ”¹ã€å†åˆ†å‘ï¼Œå³å¯è§†ä¸º"å¼€æº"
- å³ä½¿è¦æ±‚ç½²åæˆ–éµå®ˆç›¸åŒåˆ†å‘æ¡æ¬¾ï¼Œä¹Ÿä¸å½±å“å…¶"å¼€æº"åœ°ä½
- æŸäº›æƒ…å†µä¸‹ï¼Œå¼€æºæ¨¡å‹å¯è±å…é«˜é£é™© AI ç³»ç»Ÿçš„ç›‘ç®¡è¦æ±‚

## ğŸ§  æˆ‘çš„æ€è€ƒ

è¿™æ¬¡å®éªŒè®©æˆ‘æ„è¯†åˆ°ï¼š
- å¤§æ¨¡å‹ä¸æ˜¯ç­”æ¡ˆï¼Œå®ƒæ˜¯è®¤çŸ¥å‹ç¼©å™¨
- æ³•è§„ä¸æ˜¯éšœç¢ï¼Œå®ƒæ˜¯äº§å“è®¾è®¡çš„è¾¹ç•Œæ¡ä»¶
- å›½äº§æ¨¡å‹å®Œå…¨å¯ä»¥èƒœä»»ç»“æ„åŒ–è¯­ä¹‰ä»»åŠ¡
- æ„å»ºè®¤çŸ¥ç³»ç»Ÿçš„å…³é”®ï¼Œä¸æ˜¯ promptï¼Œè€Œæ˜¯æ•°æ®é“¾ + è°ƒåº¦é€»è¾‘

## ğŸš€ ä¸‹ä¸€æ­¥æˆ‘æƒ³åšä»€ä¹ˆï¼Ÿ
- æŠŠè¿™å¥—æµç¨‹æ‰“åŒ…æˆ CLI å·¥å…·
- æ”¯æŒå¤šæ¨¡å‹ï¼ˆOpenAI / Claude / DeepSeekï¼‰å¯¹æ¯”åˆ†æ
- åšä¸€ä¸ª"æ³•è§„æ‘˜è¦ API"ï¼Œè¾“å…¥é“¾æ¥ï¼Œè¾“å‡ºç»“æ„åŒ–æ‘˜è¦
- æ„å»ºä¸€ä¸ª"æ¨¡å‹è®¸å¯è¯åˆè§„æ€§æ£€æŸ¥å™¨"

## ğŸ’¬ å¦‚æœä½ ä¹Ÿæƒ³è¯•è¯•

æ¬¢è¿ fork æˆ‘çš„ repo  https://github.com/chemark/chemark.github.ioï¼Œæˆ–è€…ç•™è¨€äº¤æµã€‚
